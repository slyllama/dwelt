[gd_scene load_steps=19 format=3 uid="uid://dsbm7yhekgmgo"]

[ext_resource type="PackedScene" uid="uid://bowffptraek8d" path="res://lib/shard/shard.tscn" id="1_5qlda"]
[ext_resource type="Shader" uid="uid://du5agsy3vcfq8" path="res://generic/materials/shaders/sky.gdshader" id="2_ktxp2"]
[ext_resource type="PackedScene" uid="uid://dysveubn1dnjo" path="res://shards/sandbox/meshes/landscape.glb" id="4_ceulp"]
[ext_resource type="AudioStream" uid="uid://cu2cjj71fq1wc" path="res://shards/sandbox/sounds/ambience.ogg" id="4_r33gg"]
[ext_resource type="PackedScene" uid="uid://dn4mx27dqt7yo" path="res://lib/shard/foliage_spawner/foliage_spawner.tscn" id="5_qhhsg"]
[ext_resource type="ArrayMesh" uid="uid://7dxgm1hl7c0r" path="res://lib/shard/foliage_spawner/meshes/grass.res" id="6_ox7j5"]
[ext_resource type="PackedScene" uid="uid://pconmu7n0aev" path="res://shards/sandbox/props/bamboo/meshes/bamboo.glb" id="8_dsjrq"]

[sub_resource type="Gradient" id="Gradient_ktxp2"]
offsets = PackedFloat32Array(0.5, 0.52, 0.6)
colors = PackedColorArray(0.35686275, 0.34509805, 0.24705882, 1, 0.84, 0.8127, 0.5124, 1, 0.23779899, 0.20635802, 0.00012268529, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_ceulp"]
gradient = SubResource("Gradient_ktxp2")
fill_from = Vector2(1, 1)

[sub_resource type="Gradient" id="Gradient_ceulp"]
offsets = PackedFloat32Array(0, 0.27272728, 1)
colors = PackedColorArray(0, 0, 0, 1, 0.06363636, 0.06363636, 0.06363636, 1, 1, 1, 1, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_r33gg"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_qhhsg"]
noise = SubResource("FastNoiseLite_r33gg")
color_ramp = SubResource("Gradient_ceulp")
seamless = true

[sub_resource type="Gradient" id="Gradient_r33gg"]
offsets = PackedFloat32Array(0.06363636, 0.44545454, 0.5181818, 1)
colors = PackedColorArray(0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_qhhsg"]
gradient = SubResource("Gradient_r33gg")
fill_to = Vector2(0, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ceulp"]
shader = ExtResource("2_ktxp2")
shader_parameter/albedo_texture = SubResource("GradientTexture2D_ceulp")
shader_parameter/clouds = SubResource("NoiseTexture2D_qhhsg")
shader_parameter/clouds_mask = SubResource("GradientTexture2D_qhhsg")

[sub_resource type="Sky" id="Sky_r33gg"]
sky_material = SubResource("ShaderMaterial_ceulp")

[sub_resource type="Environment" id="Environment_34mle"]
background_mode = 2
sky = SubResource("Sky_r33gg")
ambient_light_source = 2
ambient_light_color = Color(0.24, 0.23808, 0.22559999, 1)
tonemap_mode = 2
fog_enabled = true
fog_mode = 1
fog_light_color = Color(0.35686275, 0.34509805, 0.24705882, 1)
fog_density = 1.0
fog_sky_affect = 0.25
fog_depth_begin = 4.0
fog_depth_end = 8.0
adjustment_enabled = true
adjustment_brightness = 1.05
adjustment_saturation = 1.1

[sub_resource type="MultiMesh" id="MultiMesh_dsjrq"]
transform_format = 1
use_colors = true
instance_count = 36
visible_instance_count = 36
mesh = ExtResource("6_ox7j5")
buffer = PackedFloat32Array(0.5468115, 0, -1.2113976, -2.3578238, 0, 0.9968194, 0, 0, 1.2113976, 0, 0.5468115, 0.4368537, 0.45458984, 0.6689453, 0, 1, -1.8532027, 0, -0.19500588, -2.032496, 0, 0.93171716, 0, 0, 0.19500588, 0, -1.8532027, -2.481034, 0.4333496, 0.6621094, 0, 1, 1.1858594, 0, -0.28971788, 0.98535657, 0, 1.119009, 0, 0, 0.28971788, 0, 1.1858594, 0.36049455, 0.40576172, 0.6533203, 0, 1, -1.1277068, 0, -0.47500655, 1.9550505, 0, 0.713804, 0, 0, 0.47500655, 0, -1.1277068, -2.2050095, 0.60791016, 0.71875, 0, 1, -0.18589363, 0, 1.6825975, 0.97618824, 0, 1.2696264, 0, 0, -1.6825975, 0, -0.18589363, 1.8117791, 0.39038086, 0.6484375, 0, 1, -1.6983334, 0, 0.262995, 2.170946, 0, 1.1457173, 0, 0, -0.262995, 0, -1.6983334, -1.0865326, 0.6064453, 0.7182617, 0, 1, -1.1703691, 0, 0.16636376, -0.40408882, 0, 0.8866005, 0, 0, -0.16636376, 0, -1.1703691, 1.9287981, 0.4326172, 0.6621094, 0, 1, -0.22317745, 0, 1.0060601, -0.6586293, 0, 0.77288765, 0, 0, -1.0060601, 0, -0.22317745, -1.5203261, 0.46899414, 0.6738281, 0, 1, 1.1164961, 0, -1.0105124, -1.643391, 0, 0.8784346, 0, 0, 1.0105124, 0, 1.1164961, -1.9199338, 0.47143555, 0.6743164, 0, 1, 0.50248206, 0, 1.6114897, 0.14582711, 0, 1.4066774, 0, 0, -1.6114897, 0, 0.50248206, -1.624761, 0.44677734, 0.6665039, 0, 1, 1.7119113, 0, -0.09243281, 2.1182332, 0, 1.1429366, 0, 0, 0.09243281, 0, 1.7119113, 1.940245, 0.5180664, 0.6899414, 0, 1, -0.3735731, 0, -1.8967993, 1.0426673, 0, 1.4499276, 0, 0, 1.8967993, 0, -0.3735731, -1.359427, 0.57177734, 0.70703125, 0, 1, 1.6869191, 0, 0.48873073, -0.39116654, 0, 1.6099324, 0, 0, -0.48873073, 0, 1.6869191, 0.4655022, 0.39746094, 0.6503906, 0, 1, 0.90994453, 0, -1.1920519, 0.55282396, 0, 1.2497184, 0, 0, 1.1920519, 0, 0.90994453, 2.132673, 0.4013672, 0.65185547, 0, 1, 0.62960875, 0, 1.4593629, -2.1319149, 0, 0.92714167, 0, 0, -1.4593629, 0, 0.62960875, -1.4083173, 0.4074707, 0.6538086, 0, 1, -1.0922304, 0, 1.365166, 0.5273846, 0, 1.6026326, 0, 0, -1.365166, 0, -1.0922304, -0.47712532, 0.57128906, 0.70703125, 0, 1, 0.88740003, 0, -1.0683887, -1.5370919, 0, 1.0416453, 0, 0, 1.0683887, 0, 0.88740003, -0.68624306, 0.4362793, 0.66308594, 0, 1, 0.45293328, 0, 1.9386425, -1.4791662, 0, 1.3272333, 0, 0, -1.9386425, 0, 0.45293328, 1.8161539, 0.37817383, 0.64453125, 0, 1, 0.15657517, 0, 1.1390005, -0.6908515, 0, 0.9580934, 0, 0, -1.1390005, 0, 0.15657517, 1.1527772, 0.6220703, 0.72314453, 0, 1, -0.3115315, 0, 1.4533087, -1.1444325, 0, 0.9908825, 0, 0, -1.4533087, 0, -0.3115315, -1.2387679, 0.48828125, 0.6801758, 0, 1, -1.236761, 0, -0.5959175, -1.4217474, 0, 1.0296316, 0, 0, 0.5959175, 0, -1.236761, 0.84275043, 0.5395508, 0.69677734, 0, 1, -1.7635752, 0, -0.18307492, 1.7711618, 0, 1.329789, 0, 0, 0.18307492, 0, -1.7635752, -0.5130597, 0.63378906, 0.7270508, 0, 1, 1.2788985, 0, 0.70254284, 2.0607774, 0, 1.2159666, 0, 0, -0.70254284, 0, 1.2788985, 0.3216334, 0.37036133, 0.64160156, 0, 1, -0.11764788, 0, 1.8326384, -2.133698, 0, 1.2242739, 0, 0, -1.8326384, 0, -0.11764788, -0.17802572, 0.35498047, 0.63671875, 0, 1, -0.84597176, 0, 1.3120605, -1.1586045, 0, 1.3009534, 0, 0, -1.3120605, 0, -0.84597176, 0.18599461, 0.35351563, 0.63623047, 0, 1, -1.1940628, 0, 0.5347501, 1.0668559, 0, 1.0902802, 0, 0, -0.5347501, 0, -1.1940628, 1.2658556, 0.62646484, 0.7246094, 0, 1, 1.3482686, 0, -1.3580276, 0.32364073, 0, 1.9136529, 0, 0, 1.3580276, 0, 1.3482686, 0.4373087, 0.60595703, 0.7182617, 0, 1, 0.025506487, 0, 1.1660293, 0.97356313, 0, 0.97192353, 0, 0, -1.1660293, 0, 0.025506487, -0.4470552, 0.546875, 0.69873047, 0, 1, -1.1268226, 0, 1.317236, 2.2336457, 0, 1.3000855, 0, 0, -1.317236, 0, -1.1268226, 1.4947903, 0.5214844, 0.69091797, 0, 1, -1.1698214, 0, -1.1255265, -0.67985594, 0, 1.3527985, 0, 0, 1.1255265, 0, -1.1698214, -0.23493129, 0.43969727, 0.6640625, 0, 1, -0.5376907, 0, 1.9165666, -1.9740367, 0, 1.3270416, 0, 0, -1.9165666, 0, -0.5376907, 1.567435, 0.53466797, 0.6953125, 0, 1, -1.8722678, 0, 0.6526043, -2.3460722, 0, 1.1566014, 0, 0, -0.6526043, 0, -1.8722678, 2.3825414, 0.36938477, 0.64160156, 0, 1, -0.41166508, 0, -1.2821662, 0.96558183, 0, 0.89775485, 0, 0, 1.2821662, 0, -0.41166508, -2.189562, 0.59277344, 0.7138672, 0, 1, -0.10591711, 0, 1.021278, 0.36292747, 0, 0.77006674, 0, 0, -1.021278, 0, -0.10591711, -2.3374965, 0.62060547, 0.72314453, 0, 1, -1.4035001, 0, 1.2230201, 0.06839747, 0, 1.7064756, 0, 0, -1.2230201, 0, -1.4035001, 0.9318354, 0.40014648, 0.6513672, 0, 1, -0.8229359, 0, -1.5574373, -0.42112222, 0, 1.1743243, 0, 0, 1.5574373, 0, -0.8229359, -2.4438484, 0.55908203, 0.703125, 0, 1)

[node name="Shard" instance=ExtResource("1_5qlda")]

[node name="Sky" parent="." index="1"]
environment = SubResource("Environment_34mle")

[node name="Sun" parent="Sky" index="0"]
shadow_bias = 2.0
directional_shadow_max_distance = 50.0

[node name="Player" parent="." index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 3)

[node name="Landscape" parent="." index="3" instance=ExtResource("4_ceulp")]

[node name="Ambience" parent="." index="4"]
stream = ExtResource("4_r33gg")

[node name="DebugFloor" parent="." index="6"]
visible = false

[node name="Grass" parent="." index="7" instance=ExtResource("5_qhhsg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.79999995)
layers = 2
cast_shadow = 0
multimesh = SubResource("MultiMesh_dsjrq")
foliage_mesh = ExtResource("6_ox7j5")
count = 6
size = 5.0
scatter = 0.4
min_scale = 1.0
max_scale = 2.0
colour_1 = Color(0.35237828, 0.63620067, 7.70092e-07, 1)

[node name="Bamboo" parent="." index="8" instance=ExtResource("8_dsjrq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.9430869, -0.019036531, 0.19936088)

[node name="Bamboo2" parent="." index="9" instance=ExtResource("8_dsjrq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.7439191, 0.055042922, -4.266695)

[node name="Bamboo3" parent="." index="10" instance=ExtResource("8_dsjrq")]
transform = Transform3D(0.6027764, 0, 0.79791015, 0, 1, 0, -0.79791015, 0, 0.6027764, -3.1354842, 0.0020491183, 0.34368646)
